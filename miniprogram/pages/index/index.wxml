<view class="container-home">
  <!-- Input Area -->
  <view class="input-section" style="height: {{inputHeight}}rpx;">
    <textarea 
      class="script-input" 
      placeholder="åœ¨æ­¤è¾“å…¥æˆ–ç²˜è´´å°æœ¬å†…å®¹..." 
      maxlength="-1" 
      value="{{content}}"
      bindinput="onInput"
    ></textarea>
    <view class="input-footer">
      <view class="resize-controls">
        <view class="resize-btn" bindtap="adjustInputHeight" data-delta="-100">â–</view>
        <text class="resize-label">é«˜åº¦</text>
        <view class="resize-btn" bindtap="adjustInputHeight" data-delta="100">â•</view>
      </view>
      <view class="right-actions">
        <text class="char-count">{{content.length}} å­—</text>
        <view class="clear-btn" bindtap="clearContent" wx:if="{{content.length > 0}}">æ¸…ç©º</view>
      </view>
    </view>
  </view>

  <!-- Controls Section -->
  <view class="controls-section">
    <view class="options-group">
      <view class="orientation-selector">
        <view class="option {{orientation === 'auto' ? 'active' : ''}}" bindtap="setOrientation" data-type="auto">
          <text>ğŸ”„ è‡ªåŠ¨</text>
        </view>
        <view class="option {{orientation === 'portrait' ? 'active' : ''}}" bindtap="setOrientation" data-type="portrait">
          <text>ğŸ“± ç«–å±</text>
        </view>
        <view class="option {{orientation === 'landscape' ? 'active' : ''}}" bindtap="setOrientation" data-type="landscape">
          <text>ğŸ–¥ï¸ æ¨ªå±</text>
        </view>
      </view>
      <view class="setting-item" bindtap="toggleRecording">
        <text>å½•åˆ¶</text>
        <switch color="#1aac19" checked="{{isRecording}}" />
      </view>
    </view>

    <view class="main-actions">
      <button class="btn-save" bindtap="saveScript">ä¿å­˜</button>
      <button class="btn-start" bindtap="startPrompter">å¼€å§‹æè¯</button>
    </view>
  </view>

  <!-- Recent History -->
  <view class="history-section">
    <view class="section-title">æœ€è¿‘å°æœ¬</view>
    <scroll-view scroll-x class="history-list" enable-flex>
      <block wx:if="{{recentScripts.length > 0}}">
        <view class="history-card" wx:for="{{recentScripts}}" wx:key="id" bindtap="loadHistory" data-item="{{item}}">
          <view class="card-content">{{item.content}}</view>
          <view class="card-date">{{item.displayTime}}</view>
        </view>
      </block>
      <block wx:else>
        <view class="empty-history">æš‚æ— è®°å½•</view>
      </block>
    </scroll-view>
  </view>
</view>